<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Duke Basketball Passing Networks</title>
  <meta name="description" content="Duke Basketball Passing Networks">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Duke Basketball Passing Networks" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Duke Basketball Passing Networks" />
  
  
  

<meta name="author" content="Sonia Xu">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="6-passing-networks.html">
<link rel="next" href="8-conclusion.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"></a></li>
<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="2-rmd-basics.html"><a href="2-rmd-basics.html"><i class="fa fa-check"></i><b>2</b> Literature Review</a></li>
<li class="chapter" data-level="3" data-path="3-dataset.html"><a href="3-dataset.html"><i class="fa fa-check"></i><b>3</b> Dataset</a></li>
<li class="chapter" data-level="4" data-path="4-data-cleaning.html"><a href="4-data-cleaning.html"><i class="fa fa-check"></i><b>4</b> Data Cleaning</a><ul>
<li class="chapter" data-level="4.1" data-path="4-data-cleaning.html"><a href="4-data-cleaning.html#changes-in-shot-clock-time"><i class="fa fa-check"></i><b>4.1</b> Changes in Shot Clock Time</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-exploratory-data-analysis.html"><a href="5-exploratory-data-analysis.html"><i class="fa fa-check"></i><b>5</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="5.1" data-path="5-exploratory-data-analysis.html"><a href="5-exploratory-data-analysis.html#changes-in-shot-attempt-patterns"><i class="fa fa-check"></i><b>5.1</b> Changes in Shot Attempt Patterns</a></li>
<li class="chapter" data-level="5.2" data-path="5-exploratory-data-analysis.html"><a href="5-exploratory-data-analysis.html#biases-in-shot-location"><i class="fa fa-check"></i><b>5.2</b> Biases in Shot Location</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-passing-networks.html"><a href="6-passing-networks.html"><i class="fa fa-check"></i><b>6</b> Passing Networks</a><ul>
<li class="chapter" data-level="6.1" data-path="6-passing-networks.html"><a href="6-passing-networks.html#a-breakdown-of-a-passing-network"><i class="fa fa-check"></i><b>6.1</b> A Breakdown of a Passing Network</a><ul>
<li class="chapter" data-level="6.1.1" data-path="6-passing-networks.html"><a href="6-passing-networks.html#game-network"><i class="fa fa-check"></i><b>6.1.1</b> Game Network</a></li>
<li class="chapter" data-level="6.1.2" data-path="6-passing-networks.html"><a href="6-passing-networks.html#possession-network"><i class="fa fa-check"></i><b>6.1.2</b> Possession Network</a></li>
<li class="chapter" data-level="6.1.3" data-path="6-passing-networks.html"><a href="6-passing-networks.html#a-vertex-and-an-edge"><i class="fa fa-check"></i><b>6.1.3</b> A Vertex and an Edge</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="6-passing-networks.html"><a href="6-passing-networks.html#initial-analysis-of-passing-networks"><i class="fa fa-check"></i><b>6.2</b> Initial Analysis of Passing Networks</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-network-modeling.html"><a href="7-network-modeling.html"><i class="fa fa-check"></i><b>7</b> Network Modeling</a><ul>
<li class="chapter" data-level="7.1" data-path="7-network-modeling.html"><a href="7-network-modeling.html#posession-analysis"><i class="fa fa-check"></i><b>7.1</b> Posession Analysis</a></li>
<li class="chapter" data-level="7.2" data-path="7-network-modeling.html"><a href="7-network-modeling.html#multinomial-model"><i class="fa fa-check"></i><b>7.2</b> Multinomial Model</a></li>
<li class="chapter" data-level="7.3" data-path="7-network-modeling.html"><a href="7-network-modeling.html#results"><i class="fa fa-check"></i><b>7.3</b> Results</a></li>
<li class="chapter" data-level="7.4" data-path="7-network-modeling.html"><a href="7-network-modeling.html#amen-analysis"><i class="fa fa-check"></i><b>7.4</b> AMEN Analysis</a></li>
<li class="chapter" data-level="7.5" data-path="7-network-modeling.html"><a href="7-network-modeling.html#latent-eigenvalue-model-poisson-regression"><i class="fa fa-check"></i><b>7.5</b> Latent Eigenvalue Model &amp; Poisson Regression</a></li>
<li class="chapter" data-level="7.6" data-path="7-network-modeling.html"><a href="7-network-modeling.html#structural-zeros"><i class="fa fa-check"></i><b>7.6</b> Structural Zeros</a></li>
<li class="chapter" data-level="7.7" data-path="7-network-modeling.html"><a href="7-network-modeling.html#model-fit"><i class="fa fa-check"></i><b>7.7</b> Model Fit</a><ul>
<li class="chapter" data-level="7.7.1" data-path="7-network-modeling.html"><a href="7-network-modeling.html#amen-fit"><i class="fa fa-check"></i><b>7.7.1</b> AMEN Fit</a></li>
<li class="chapter" data-level="7.7.2" data-path="7-network-modeling.html"><a href="7-network-modeling.html#poisson-regression-fit"><i class="fa fa-check"></i><b>7.7.2</b> Poisson Regression Fit</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="7-network-modeling.html"><a href="7-network-modeling.html#results-1"><i class="fa fa-check"></i><b>7.8</b> Results</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-conclusion.html"><a href="8-conclusion.html"><i class="fa fa-check"></i><b>8</b> Conclusion</a><ul>
<li class="chapter" data-level="8.1" data-path="8-conclusion.html"><a href="8-conclusion.html#future-steps"><i class="fa fa-check"></i><b>8.1</b> Future Steps</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-appendix-a.html"><a href="9-appendix-a.html"><i class="fa fa-check"></i><b>9</b> Appendix A</a><ul>
<li class="chapter" data-level="9.1" data-path="9-appendix-a.html"><a href="9-appendix-a.html#model-replication"><i class="fa fa-check"></i><b>9.1</b> Model Replication</a><ul>
<li class="chapter" data-level="9.1.1" data-path="9-appendix-a.html"><a href="9-appendix-a.html#microtransition-model"><i class="fa fa-check"></i><b>9.1.1</b> Microtransition Model</a></li>
<li class="chapter" data-level="9.1.2" data-path="9-appendix-a.html"><a href="9-appendix-a.html#macrotransition-entrance-model"><i class="fa fa-check"></i><b>9.1.2</b> Macrotransition Entrance Model</a></li>
<li class="chapter" data-level="9.1.3" data-path="9-appendix-a.html"><a href="9-appendix-a.html#macrotransition-exit-model"><i class="fa fa-check"></i><b>9.1.3</b> Macrotransition Exit Model</a></li>
<li class="chapter" data-level="9.1.4" data-path="9-appendix-a.html"><a href="9-appendix-a.html#fall-backs-on-the-implementation-of-this-model"><i class="fa fa-check"></i><b>9.1.4</b> Fall Backs on the Implementation of this Model</a></li>
<li class="chapter" data-level="9.1.5" data-path="9-appendix-a.html"><a href="9-appendix-a.html#proposal"><i class="fa fa-check"></i><b>9.1.5</b> Proposal</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Duke Basketball Passing Networks</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="network-modeling" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> Network Modeling</h1>
<div id="posession-analysis" class="section level2">
<h2><span class="header-section-number">7.1</span> Posession Analysis</h2>
<p>Each possession in basketball typically ends in a made or missed shot, turnover, offensive or defensive rebound, or foul. Each possession has network characteristics unique to the play–number of triangles, passing reciprocity, betweenness centrality, etc. Using possession-level network characteristics to predict the outcome of a play can shed light on the utility value of certain team characteristics. If high centrality is a significant predictor of successful shots, then having a superstar player is the better playing style for basketball.</p>
</div>
<div id="multinomial-model" class="section level2">
<h2><span class="header-section-number">7.2</span> Multinomial Model</h2>
<p>A binomial logistic regression was initially fit to determine what features were important to predicting a made shot. Predictors included variables like number of triangles, passing reciprocity, betweenness centrality,.. Below is the formula:</p>
<p><span class="math display">\[y_{made} \sim \beta_{tri}x_{tri} + \beta_{recip}x_{recip} + \beta_{betweenness}x_{betweenness}... + \epsilon_{i}\]</span></p>
<p>A multinomial model was used to explain the data more robustly by binning the outcome of possessions more broadly. Three categories were created: good outcomes (made shot, offensive rebound), bad outcomes (missed shot, turnover), and neutral outcomes (inbound ball).</p>
</div>
<div id="results" class="section level2">
<h2><span class="header-section-number">7.3</span> Results</h2>
<p>Network characteristics, although informative in summarizing possessions, were not significant predictors of the outcome of a basketball possession. Higher reciprocity and triangle dependence, indicators of collaborative teamwork, had a direct relationship with made shots. These results from the preliminary model are largely directional, reaffirming the notion that network characteristics are not informative enough to capture the game of basketball.</p>
</div>
<div id="amen-analysis" class="section level2">
<h2><span class="header-section-number">7.4</span> AMEN Analysis</h2>
<p>The AMEN package implements a latent eigenvalue model through a Monte Carlo Markov Chain. Hoff explains his preference for utilizing a latent eigenvalue model in “Modeling Homophily and Stochastic Equivalence in Symmetric Relational Data.” This model captures the game of basketball more robustly than a multinomial model because it doubly captures network and nodal attributes. The output of this model provides posterior means of the row and column effects, as well as higher order dependence covariates for each player. Overall game performance for each player can be used as a response against the output of the latent eigenvalue model in order to check if a player’s network and nodal attributes are significant influencers; points per game for each player was used as a response for a Poisson regression that used the posterior means of the latent eigenvalue model as its features.</p>
</div>
<div id="latent-eigenvalue-model-poisson-regression" class="section level2">
<h2><span class="header-section-number">7.5</span> Latent Eigenvalue Model &amp; Poisson Regression</h2>
<p><span class="math display">\[y_{ij} =  \beta_{i}x_{i} + r_{i} + s_{i} + u^{T}v + \epsilon_{i}\]</span> where <span class="math display">\[r_{i} = \beta_{i}x_{i} + a_{i}\]</span> and <span class="math display">\[s_{i} = \beta_{i}x_{i} + b_{i}\]</span></p>
<p>Nodal Attributes: Points per game for each player Nodal Features: Was in previous player (0/1), currently in possession (0/1) Dyadic Features: Shared position, shared height, shared weight, shared class Network Attributes: Passing network matrix</p>
</div>
<div id="structural-zeros" class="section level2">
<h2><span class="header-section-number">7.6</span> Structural Zeros</h2>
<p>Currently, the AMEN package takes on a pxp matrix of players to model the passing relationship between players. Currently, the model uses data from the 2014-2015 season, so p = 10. These 10 players represent the five players on the court, and the five players on the bench. For the five players on the court, if there does not exist a pass between two players, then a zero populates the matrix to account for the nonevent. However, if a player is on the bench, he similarly cannot receive a pass, so all bench players will always have a zero populated in the 10x10 matrix. This creates a challenge in modeling the data because the zeros in the matrix represent two different events–players who had the possibility to receive the ball but did not and players who never had the chance to receive the ball.</p>
<p>The model includes a binary column feature that signals a player’s status (on court or on bench). While it does not solve the structural zero problem entirely, this feature accounts for the differences between active and nonactive players.</p>
</div>
<div id="model-fit" class="section level2">
<h2><span class="header-section-number">7.7</span> Model Fit</h2>
<p>The model was fit at two stages: latent eigenvalue model and poisson regression.</p>
<div id="amen-fit" class="section level3">
<h3><span class="header-section-number">7.7.1</span> AMEN Fit</h3>
<p>Checking the model fit of the AMEN output, the posterior predictive checks perform well for the column effects. A challenge with this model, as noted at the end of Fosdick’s and Hoff’s “Testing and Modeling Dependencies Between a Network and Nodal Attributes,” was determining the appropriate dimensionality for transforming the data onto a latent space. Initially, the data was fit with a dimensionality of 2. However, as there are always five players on the court, higher dimensionality would be more appropriate for this model. The data was fit again with a dimensionality of four, and there was not a significant improvement in the fit of the posterior predictive checks. This suggests that a dimensionality of 2 is enough to capture the data.</p>
<p>The output below shows the model fit of a game with a dimensionality of 2. <img src="img/amenoutput.png" /></p>
<p>The output below shows the model fit of a game with a dimensionality of 4. <img src="img/amenoutput4.png" /></p>
</div>
<div id="poisson-regression-fit" class="section level3">
<h3><span class="header-section-number">7.7.2</span> Poisson Regression Fit</h3>
<p>The output of the AMEN model was plugged into a Poisson regression, with the response as a player’s points per that game. Assessing the fit of the Poisson model, it assumes hetereoscedascity, and fits the checks well. However, the p-value for the deviance goodness of fit test was 9.152 x <span class="math inline">\(10^{-25}\)</span>, which indicates with strong evidence that the model fits the data poorly. Regardless, this model provides a directional indication that row and column effects (passing and receiving) are significant features in predicting the productivity of a player.</p>
<p>Below is the summary output of the Poisson regression. <img src="img/poissonsummary2.png" /></p>
</div>
</div>
<div id="results-1" class="section level2">
<h2><span class="header-section-number">7.8</span> Results</h2>
<p>The latent eigenvalue model with less dyadic features (only shared position) performed comparably to the full model based on the posterior predictive checks. The output of the latent eigenvalue model was used to predict a player’s points per game via a Poisson Regression. While both the row and column posterior means were significant influencers of a player’s points per game, row effects had a larger coefficient estimate. These results confirm the importance of passing and teamwork for successful plays.</p>
<p>Exploratory analysis of the model output reveals that there are game-level differences in play style for certain players. Comparing the performance of two games with two different outcomes for the Duke 2014-2015 team, there a noticeable differences in the sender and receiver effects. Player 126160, for instance, had higher receiver effects in a loss compared to a win. This result could imply that player 126160 was not fulfilling his role on the team if his performance recorded by a successful game was his baseline. On the other hand, some players did not drastically change betweeen a a win and a loss. Players like Player 109415 who typically had low playing time and thus lower sender and receiver effects overall, intuitively had even lower sender and receiver effects during a loss. The loss of a team, although influenced by many characteristics, can be partially attributed to these differences in individual player performance. However, this model does not take into account sufficient statistics for the varying defense the Duke teams play.<br />
<img src="img/sendreceiver.png" /></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="6-passing-networks.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="8-conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": [["thesis.pdf", "PDF"], ["thesis.epub", "EPUB"], ["thesis.docx", "Word"]],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
